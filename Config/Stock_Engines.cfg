// TestFlight configs for all engines in stock KSP
// See Generic_Engines.cfg for documentation on TFENGINE

// Rated burn times for most engines are fairly optimistic to let players
// keep their more creative rocket designs. Initial reliability is set low to
// compensate and give a reasonable failure chance for a short "typical" burn.

//------------------------------------------------
// Liquid-fueled engines

// LV-T45
@PART[liquidEngine2]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LV-T45
       ratedBurnTime = 120
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.98
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.65
       ignitionReliabilityEnd = 0.98
    }
}

// LV-T30
@PART[liquidEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LV-T30
       ratedBurnTime = 100
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.995	// Description says very reliable engine
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.70
       ignitionReliabilityEnd = 0.99

       techTransfer = liquidEngine2:75
    }
}

// LV-909
@PART[liquidEngine3]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LV-909
       ratedBurnTime = 200
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.99
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.75
       ignitionReliabilityEnd = 0.99

       techTransfer = liquidEngine2:25&liquidEngine:10
    }
}

// RE-L10
@PART[liquidEngine2-2]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = RE-L10
       ratedBurnTime = 180
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.99

       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.80
       ignitionReliabilityEnd = 0.98
    }
}

// RE-I5
@PART[engineLargeSkipper]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = RE-I5
       ratedBurnTime = 120
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.98

       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.80
       ignitionReliabilityEnd = 0.98
    }
}

// RE-M3
@PART[liquidEngine1-2]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = RE-M3
       ratedBurnTime = 100
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.98

       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.80
       ignitionReliabilityEnd = 0.98

       techTransfer = engineLargeSkipper:50
    }
}

// KR-1x2
@PART[Size2LFB]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = KR-1x2
       ratedBurnTime = 95
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.99

       clusterMultiplier = 2
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.80
       ignitionReliabilityEnd = 0.98
    }
}

// KR-2L+
@PART[Size3AdvancedEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = KR-2L+
       ratedBurnTime = 90
       cycleReliabilityStart = 0.35	// Description mentions design problems
       cycleReliabilityEnd = 0.98

       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.85
       ignitionReliabilityEnd = 0.98

       techTransfer = Size2LFB:50
    }
}

// S3 KS-25
@PART[SSME]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = KS-25
       ratedBurnTime = 110
       cycleReliabilityStart = 0.35	// Description mentions design problems
       cycleReliabilityEnd = 0.99

       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.85
       ignitionReliabilityEnd = 0.98
    }
}

// KS-25x4
@PART[Size3EngineCluster]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = KS-25x4
       ratedBurnTime = 75
       cycleReliabilityStart = 0.35	// Description mentions design problems
       cycleReliabilityEnd = 0.99

       clusterMultiplier = 4
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.85
       ignitionReliabilityEnd = 0.98

       techTransfer = SSME:75
    }
}

// Description says these engines are prone to exploding
@PART[Size3AdvancedEngine|SSME|Size3EngineCluster]:HAS[@MODULE[TestFlightFailure_Explode]]:AFTER[zTestFlight]
{
    @MODULE[TestFlightFailure_Explode]
    {
        @weight *= 2
    }
}

// O-10
@PART[omsEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = O-10
       ratedBurnTime = 180
       cycleReliabilityStart = 0.55
       cycleReliabilityEnd = 0.998
  
       liquidFuelFailures = True
       ignitionFailures = False		// Monopropellant similar to hydrazine?

       //techTransfer = linearRcs:25	// TestFlight does not yet support RCS
    }
}

// Mk-55
@PART[radialLiquidEngine1-2]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = Mk-55
       ratedBurnTime = 180
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.99
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.80
       ignitionReliabilityEnd = 0.98
    }
}

// LV-1
@PART[microEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LV-1
       ratedBurnTime = 320
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.95
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.75
       ignitionReliabilityEnd = 0.96
    }
}

// LV-1R
@PART[radialEngineMini]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LV-1R
       ratedBurnTime = 320
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.95
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.75
       ignitionReliabilityEnd = 0.96

       techTransfer = microEngine:25
    }
}

// 48-7S
@PART[liquidEngineMini]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = 48-7S
       ratedBurnTime = 210
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.95
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.75
       ignitionReliabilityEnd = 0.98
    }
}

// 24-77
@PART[smallRadialEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = 24-77
       ratedBurnTime = 180
       cycleReliabilityStart = 0.45
       cycleReliabilityEnd = 0.95
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.85
       ignitionReliabilityEnd = 0.96

       techTransfer = liquidEngineMini:25
    }
}

@PART[toroidalAerospike]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = T-1
       ratedBurnTime = 150
       cycleReliabilityStart = 0.40
       cycleReliabilityEnd = 0.99
  
       liquidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.85
       ignitionReliabilityEnd = 0.98
    }
}

//------------------------------------------------
// Solid-fueled engines

// RT-5
@PART[solidBooster_sm]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = RT-5
       ratedBurnTime = 15
       cycleReliabilityStart = 0.60
       cycleReliabilityEnd = 0.995
  
       solidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.90
       ignitionReliabilityEnd = 0.99

       startFlightData = 5000
    }
}

// RT-10
@PART[solidBooster]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = RT-10
       ratedBurnTime = 45
       cycleReliabilityStart = 0.60
       cycleReliabilityEnd = 0.995
  
       solidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.90
       ignitionReliabilityEnd = 0.99

       techTransfer = solidBooster_sm:50
    }
}

// Barrels full o' boom
@PART[solidBooster_sm|solidBooster]:HAS[@MODULE[TestFlightFailure_Explode]]:AFTER[zTestFlight]
{
    @MODULE[TestFlightFailure_Explode]
    {
        @weight *= 2
    }
}

// BACC
@PART[solidBooster1-1]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = BACC
       ratedBurnTime = 65
       cycleReliabilityStart = 0.60
       cycleReliabilityEnd = 0.995
  
       solidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.95
       ignitionReliabilityEnd = 0.99
    }
}

// SRB-KD25k
@PART[MassiveBooster]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = KD25k
       ratedBurnTime = 85
       cycleReliabilityStart = 0.60
       cycleReliabilityEnd = 0.995
  
       solidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.95
       ignitionReliabilityEnd = 0.99
    }
}

@PART[sepMotor1]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = Sep1
       ratedBurnTime = 7
       cycleReliabilityStart = 0.99	// Compensate for 10x failure rate at start
       cycleReliabilityEnd = 0.9999
       reliabilityDataRateMultiplier = 0.1	// Thoroughly tested on the ground
  
       solidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.98
       ignitionReliabilityEnd = 0.995
    }
}

@PART[LaunchEscapeSystem]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LES
       ratedBurnTime = 5
       cycleReliabilityStart = 0.99	// Compensate for 10x failure rate at start
       cycleReliabilityEnd = 0.9999
       reliabilityDataRateMultiplier = 0.1	// Thoroughly tested on the ground
  
       solidFuelFailures = True
       ignitionFailures = True
       ignitionReliabilityStart = 0.98
       ignitionReliabilityEnd = 0.995
    }
}

//------------------------------------------------
// Thermal Rockets

@PART[nuclearEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = LV-N
       ratedBurnTime = 960
       cycleReliabilityStart = 0.35
       cycleReliabilityEnd = 0.999

       reliabilityDataRateMultiplier = 2.0 // 19/83 minutes of flight testing
       explicitDataRate = True

       liquidFuelFailures = True
       ignitionFailures = False
    }
}

//------------------------------------------------
// Ion engines

@PART[ionEngine]:HAS[!MODULE[TestFlightInterop]]:BEFORE[zTestFlight]
{
    TFENGINE
    {
       name = IX-6315
       ratedBurnTime = 1800
       cycleReliabilityStart = 0.35
       cycleReliabilityEnd = 0.99
  
       reliabilityDataRateMultiplier = 1.0 // 38/165 minutes of flight testing
       explicitDataRate = True

       electrostaticFailures = True
    }
}

//------------------------------------------------
// Jet engines

// Wait until stock multi-mode engines supported
